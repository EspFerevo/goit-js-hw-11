{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\n\nexport function searchImages(query) {\n  const apiKey = '43322409-71cdbf6ef8f62fb1f69ac5609';\n  const apiUrl = `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(apiUrl).then(response => {\n    if (!response.status) {\n      throw new Error('Network response was not ok');\n    }\n    return response.json();\n  });\n}\n","'use strict';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('#gallery .image-card', {\n  captionsData: 'alt',\n  captionsPosition: 'bottom',\n  captionDelay: 250,\n});\n\nlightbox.refresh();\n\nexport function displayImages(images) {\n  const gallery = document.getElementById('gallery');\n\n  const imageCards = images.map(image => createImageCard(image));\n  gallery.append(...imageCards);\n\n  lightbox.refresh();\n}\n\nfunction createImageCard(image) {\n  const card = `\n    <a class=\"image-card\" href=\"${image.largeImageURL}\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n      <div class=\"metadata-container\">\n        <p>Likes: ${image.likes}</p>\n        <p>Views: ${image.views}</p>\n        <p>Comments: ${image.comments}</p>\n        <p>Downloads: ${image.downloads}</p>\n      </div>\n    </a>\n  `;\n\n  const parseContainer = document.createElement('div');\n  parseContainer.innerHTML = card;\n\n  return parseContainer.firstElementChild;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { searchImages } from './js/pixabay-api.js';\nimport { displayImages } from './js/render-functions.js';\n\ndocument\n  .getElementById('search-form')\n  .addEventListener('submit', function (event) {\n    event.preventDefault();\n    const query = document.getElementById('search-input').value.trim();\n    if (query === '') {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please enter a search keyword.',\n      });\n      return;\n    }\n\n    gallery.innerHTML = '';\n\n    document.getElementById('search-input').value = '';\n\n    const loader = document.getElementById('loader');\n    loader.style.display = 'block';\n\n    searchImages(query)\n      .then(data => {\n        if (data.hits.length === 0) {\n          throw new Error(\n            'Sorry, there are no images matching your search query. Please try again!'\n          );\n        }\n        return data.hits;\n      })\n\n      .then(images => {\n        if (images.length === 0) {\n          return;\n        }\n        displayImages(images);\n      })\n      .catch(error => {\n        iziToast.error({ title: 'Error', message: error.message });\n      })\n      .finally(() => {\n        loader.style.display = 'none';\n      });\n  });\n"],"names":["searchImages","query","apiUrl","response","lightbox","SimpleLightbox","displayImages","images","gallery","imageCards","image","createImageCard","card","parseContainer","event","iziToast","loader","data","error"],"mappings":"wvBAEO,SAASA,EAAaC,EAAO,CAElC,MAAMC,EAAS,qEAA4CD,CAAK,2DAEhE,OAAO,MAAMC,CAAM,EAAE,KAAKC,GAAY,CACpC,GAAI,CAACA,EAAS,OACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACpB,CAAG,CACH,CCLA,MAAMC,EAAW,IAAIC,EAAe,uBAAwB,CAC1D,aAAc,MACd,iBAAkB,SAClB,aAAc,GAChB,CAAC,EAEDD,EAAS,QAAO,EAET,SAASE,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,eAAe,SAAS,EAE3CC,EAAaF,EAAO,IAAIG,GAASC,EAAgBD,CAAK,CAAC,EAC7DF,EAAQ,OAAO,GAAGC,CAAU,EAE5BL,EAAS,QAAO,CAClB,CAEA,SAASO,EAAgBD,EAAO,CAC9B,MAAME,EAAO;AAAA,kCACmBF,EAAM,aAAa;AAAA,kBACnCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,oBAEpCA,EAAM,KAAK;AAAA,oBACXA,EAAM,KAAK;AAAA,uBACRA,EAAM,QAAQ;AAAA,wBACbA,EAAM,SAAS;AAAA;AAAA;AAAA,IAK/BG,EAAiB,SAAS,cAAc,KAAK,EACnD,OAAAA,EAAe,UAAYD,EAEpBC,EAAe,iBACxB,CCnCA,SACG,eAAe,aAAa,EAC5B,iBAAiB,SAAU,SAAUC,EAAO,CAC3CA,EAAM,eAAc,EACpB,MAAMb,EAAQ,SAAS,eAAe,cAAc,EAAE,MAAM,OAC5D,GAAIA,IAAU,GAAI,CAChBc,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gCACjB,CAAO,EACD,MACD,CAED,QAAQ,UAAY,GAEpB,SAAS,eAAe,cAAc,EAAE,MAAQ,GAEhD,MAAMC,EAAS,SAAS,eAAe,QAAQ,EAC/CA,EAAO,MAAM,QAAU,QAEvBhB,EAAaC,CAAK,EACf,KAAKgB,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvB,MAAM,IAAI,MACR,0EACZ,EAEQ,OAAOA,EAAK,IACpB,CAAO,EAEA,KAAKV,GAAU,CACVA,EAAO,SAAW,GAGtBD,EAAcC,CAAM,CAC5B,CAAO,EACA,MAAMW,GAAS,CACdH,EAAS,MAAM,CAAE,MAAO,QAAS,QAASG,EAAM,OAAO,CAAE,CACjE,CAAO,EACA,QAAQ,IAAM,CACbF,EAAO,MAAM,QAAU,MAC/B,CAAO,CACP,CAAG"}